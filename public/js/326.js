"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[326],{9496:(a,s,t)=>{t.d(s,{Z:()=>i});const i=function(a){return!!a&&moment(a).format("Do MMMM YYYY")}},3626:(a,s,t)=>{t.d(s,{Z:()=>e});var i=t(3645),n=t.n(i)()((function(a){return a[1]}));n.push([a.id,".info-header[data-v-dee088ee]{font-weight:700}",""]);const e=n},3326:(a,s,t)=>{t.r(s),t.d(s,{default:()=>c});var i=t(9496);const n={data:function(){return{table:{columns:[{label:"NISN",field:"nisn"},{label:"Nama Siswa/i",field:"nama",sortable:!0},{label:"Kelas",field:"rombel.nama",sortable:!0},{label:"Instansi",field:"pkl.instansi.nama",sortable:!0},{label:"Status",field:"pkl.status",sortable:!0}]},instansi:{status_kepemilikan:"",jenis_perusahaan:""},list_pkl:[],selected_pkl:{id:"",tahun_ajaran:""},siswa:[]}},filters:{indoDate:function(a){return(0,i.Z)(a)}},mounted:function(){this.initData(),this.getPklList()},methods:{initData:function(){var a=this;axios.get("/api/admin/instansi/"+this.$route.params.instansi_id).then((function(s){a.instansi=s.data})).catch((function(a){console.log(a)})).then((function(){console.log("Always executed")}))},getPKL:function(){var a=this;$.LoadingOverlay("show"),axios.get("/api/admin/instansi/get_siswa/"+this.selected_pkl.id+"/"+this.instansi.id).then((function(s){console.log(s.data),a.siswa=s.data})).catch((function(a){console.log(a)})).then((function(){$.LoadingOverlay("hide")}))},getPklList:function(){var a=this;axios.get("/api/admin/pkl/create").then((function(s){a.list_pkl=s.data,a.list_pkl.length>0&&(a.selected_pkl=a.list_pkl[0],a.getPKL())}))},changePKL:function(){this.getPKL()}}};var e=t(3379),l=t.n(e),o=t(3626),r={insert:"head",singleton:!1};l()(o.Z,r);o.Z.locals;const c=(0,t(1900).Z)(n,(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"},[t("div",{staticClass:"card"},[a._m(0),a._v(" "),t("div",{staticClass:"card-body"},[t("img",{staticClass:"img-fluid",attrs:{src:"/assets/images/building.jpg",alt:"Logo "+a.instansi.nama}}),a._v(" "),t("div",{staticClass:"info-list mb-1 mt-1"},[t("p",{staticClass:"info-header mb-0"},[a._v("Nama Instansi")]),a._v(" "),t("span",{staticClass:"info-content mt-0"},[a._v(a._s(a.instansi.nama))])]),a._v(" "),t("div",{staticClass:"info-list mb-1 mt-1"},[t("p",{staticClass:"info-header mb-0"},[a._v("Alamat")]),a._v(" "),t("span",{staticClass:"info-content mt-0"},[a._v(a._s(a.instansi.alamat))])]),a._v(" "),t("div",{staticClass:"info-list mb-1 mt-1"},[t("p",{staticClass:"info-header mb-0"},[a._v("Status Kepemilikan")]),a._v(" "),t("span",{staticClass:"info-content mt-0"},[a._v(a._s(a.instansi.status_kepemilikan.toUpperCase()))])]),a._v(" "),t("div",{staticClass:"info-list mb-1 mt-1"},[t("p",{staticClass:"info-header mb-0"},[a._v("Jenis Perusahaan")]),a._v(" "),t("span",{staticClass:"info-content mt-0"},[a._v(a._s(a.instansi.jenis_perusahaan.toUpperCase()))])]),a._v(" "),t("div",{staticClass:"info-list mb-1 mt-1"},[t("p",{staticClass:"info-header mb-0"},[a._v("Titik Kordinat")]),a._v(" "),t("a",{staticClass:"info-content mt-0",attrs:{href:"#"}},[t("i",{staticClass:"fa fa-map-marker"}),a._v(" "+a._s(a.instansi.latitude+", "+a.instansi.longitude))])])])])]),a._v(" "),t("div",{staticClass:"col-9"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-8"},[t("h4",{staticClass:"card-title"},[a._v("\n                Tahun Ajaran "+a._s(a.selected_pkl.tahun_ajaran)+"\n              ")]),a._v(" "),t("span",{staticClass:"mt-0"},[a._v("Menampilkan "+a._s(a.siswa.length)+" data siswa/i")])]),a._v(" "),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"pkl"}},[a._v("Pilih Tahun Ajaran")]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.selected_pkl,expression:"selected_pkl"}],staticClass:"form-control",attrs:{name:"pkl",id:"pkl"},on:{change:[function(s){var t=Array.prototype.filter.call(s.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.selected_pkl=s.target.multiple?t:t[0]},a.changePKL]}},a._l(a.list_pkl,(function(s){return t("option",{key:s.id,domProps:{value:s}},[a._v(a._s(s.tahun_ajaran)+" - "+a._s(s.status.toUpperCase()))])})),0)])])])]),a._v(" "),t("div",{staticClass:"card-body"},[t("div",{staticClass:"table-responsive"},[t("vue-good-table",{attrs:{"search-options":{enabled:!0,trigger:"enter",skipDiacritics:!0,placeholder:"Type and enter to search"},totalRows:a.table.totalRows,"pagination-options":{enabled:!0,mode:"pages",position:"bottom",dropdownAllowAll:!1,nextLabel:"Next",prevLabel:"Prev",rowsPerPageLabel:"Rows per page",ofLabel:"of",pageLabel:"page",allLabel:"All"},columns:a.table.columns,rows:a.siswa,styleClass:"vgt-table condensed pgTble"},scopedSlots:a._u([{key:"table-row",fn:function(s){return["nisn"==s.column.field?t("span",[a._v("\n                        "+a._s(s.row.nisn)+"\n                    ")]):a._e(),a._v(" "),"nama"==s.column.field?t("span",[t("router-link",{attrs:{to:{name:"admin.siswa.detail",params:{siswa_id:s.row.id}},"data-toggle":"tooltip","data-placement":"top",title:"Klik Untuk Melihat Detail "+s.row.nama}},[a._v(a._s(s.row.nama))])],1):a._e(),a._v(" "),"pkl.instansi.nama"==s.column.field?t("span",[s.row.pkl?t("span",[t("router-link",{attrs:{to:{name:"admin.instansi.detail",params:{instansi_id:s.row.pkl.instansi.id}}}},[a._v("\n                                "+a._s(s.row.pkl.instansi.nama)+"\n                            ")])],1):t("span",{staticClass:"badge bg-warning"},[a._v("Belum PKL")])]):a._e(),a._v(" "),"pkl.status"==s.column.field?t("span",[t("span",{staticClass:"badge",class:{"bg-primary":"berlangsung"==s.row.pkl.status,"bg-danger":"batal"==s.row.pkl.status,"bg-success":"selesai"==s.row.pkl.status}},[a._v("\n                            "+a._s(s.row.pkl.pkl.status.toUpperCase())+"\n                        ")])]):a._e(),a._v(" "),"jenis_kelamin"==s.column.field?t("span",["l"==s.row.jenis_kelamin?t("span",{staticClass:"badge bg-success"},[t("i",{staticClass:"fa fa-mars"}),a._v(" L\n                        ")]):t("span",{staticClass:"badge bg-danger"},[t("i",{staticClass:"fa fa-venus"}),a._v(" P\n                        ")])]):a._e(),a._v(" "),"rombel.nama"==s.column.field?t("span",[a._v("\n                        "+a._s(s.row.rombel.nama)+"\n                    ")]):a._e(),a._v(" "),"ttl"==s.column.field?t("span",[t("i",[a._v(a._s(s.row.tempat_lahir))]),a._v("\n                        , "+a._s(a._f("indoDate")(s.row.tanggal_lahir))+"\n                    ")]):a._e(),a._v(" "),"aksi"==s.column.field?t("span",[t("span",{staticClass:"pointer badge bg-warning",on:{click:function(t){return a.editsiswa(s.row.id)}}},[t("i",{staticClass:"fa fa-wrench"}),a._v(" Edit\n                        ")]),a._v(" "),t("span",{staticClass:"pointer badge bg-danger pointer",on:{click:function(t){return a.deletesiswa(s.row.id)}}},[t("i",{staticClass:"fa fa-trash"}),a._v(" Hapus\n                        ")])]):a._e()]}}])},[t("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[t("span",{staticClass:"badge badge-danger pointer",on:{click:function(s){return a.massDeleteGuru()}}},[t("i",{staticClass:"fa fa-trash"}),a._v(" Hapus Masal Guru\n                    ")])])])],1)])])])])])}),[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"card-header"},[t("h4",{staticClass:"card-title"},[a._v("Detail Instansi")])])}],!1,null,"dee088ee",null).exports}}]);